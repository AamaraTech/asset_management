"use strict";(self.webpackChunkwm_ui_web_app=self.webpackChunkwm_ui_web_app||[]).push([["default-src_app_core_shared_common_form-config_service_ts"],{7186:(W,y,c)=>{c.d(y,{b:()=>i});var i=function(h){return h.location_name="location_name",h.description="description",h.site="site",h.co_ordinates="co_ordinates",h.floor="floor",h.room_name="room_name",h.room_number="room_number",h.location_incharge="location_incharge",h}(i||{})},297:(W,y,c)=>{c.d(y,{$:()=>i,M:()=>h});var i=function(l){return l.source="source",l.po_no="po_no",l.po_date="po_date",l.vendor="vendor",l.poc="poc",l.vendor_quotation_no="vendor_quotation_no",l.quotation_date="quotation_date",l.delivery_terms="delivery_terms",l.delivery_preference="delivery_preference",l.payment_terms="payment_terms",l.bill_to_name="bill_to_name",l.bill_to_address1="bill_to_address1",l.bill_to_address2="bill_to_address2",l.bill_to_tax_no="bill_to_tax_no",l.bill_to_country="bill_to_country",l.bill_to_city="bill_to_city",l.bill_to_zip_code="bill_to_zip_code",l.bill_to_state="bill_to_state",l.ship_to_name="ship_to_name",l.ship_to_address1="ship_to_address1",l.ship_to_address2="ship_to_address2",l.ship_to_tax_no="ship_to_tax_no",l.ship_to_country="ship_to_country",l.ship_to_city="ship_to_city",l.ship_to_zipcode="ship_to_zipcode",l.ship_to_state="ship_to_state",l.sub_total="sub_total",l.discount="discount",l.tax_amount="tax_amount",l.total_amount="total_amount",l.payment_type="payment_type",l.note="note",l.terms_conditions="terms_conditions",l.purchase_order_items="purchase_order_items",l.poc_name="poc_name",l.poc_phone="poc_phone",l.poc_email="poc_email",l}(i||{}),h=function(l){return l.asset_code="asset_code",l.asset_name="asset_name",l.asset_description="asset_description",l.asset_mfr="mfr",l.delivery_date="delivery_date",l.qty="qty",l.uom="uom",l.unit_price="unit_price",l.discount="discount",l.discount_amount="discount_amount",l.tax="tax",l.tax_amount="tax_amount",l.total_amount="total_amount",l}(h||{})},8214:(W,y,c)=>{c.d(y,{l:()=>rt});var i=c(4438),h=c(4842);class l{constructor(){this.store_name="",this.store_code=""}}var s=c(3958);let j=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.STORE_FORM=()=>(a,t,e,n)=>(t=new l,[{type:"tab",headerText:this.translate.instant("warehouseDetails_TC"),headerTextArray:["Store","Loaction","QR Code"],footerText:"",fillScreen:48,fields:[{tabHeader:"Store",fields:[new s.F(this.translate,"store_name",e,n,t).addFieldWidth("45%").validate(!0,1).error().toObject(),new s.F(this.translate,"store_code",e,n,t).addFieldWidth("45%").validate(!0,1).error().toObject(),{type:"map",name:"store_location",fieldWidth:"100%",label:this.translate.instant("warehouseLocation_TC"),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant("warehouseLocation_TC")}),value:{lat:28.7041,lng:77.1025},isDialogOpened:!0}]},{tabHeader:"QR Code",fields:[]}]}])}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class x{constructor(){this.id=0,this.category="",this.category_code="",this.is_active=!1}}let N=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.ItemCategoryForm=()=>(a,t,e,n)=>(t=new x,[{type:"input",name:"category_code",label:this.translate.instant("categoryCode_TC"),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant("categoryCode_TC")}),get value(){return e?n[this.name]:t.category_code},validation:{required:!0,minlength:1},errorText:{required:this.translate.instant("formRequiredError_SC",{label:this.translate.instant("categoryCode_TC")}),minlength:this.translate.instant("formMaxLengthError_SC",{label:this.translate.instant("categoryCode_TC"),char:this.translate.instant("one_number")})}},{type:"input",name:"category",label:this.translate.instant("category_TC"),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant("category_TC")}),get value(){return e?n[this.name]:t.category},validation:{required:!0,minlength:1},errorText:{required:this.translate.instant("formRequiredError_SC",{label:this.translate.instant("category_TC")}),minlength:this.translate.instant("formMaxLengthError_SC",{label:this.translate.instant("category_TC"),char:this.translate.instant("one_number")})}}])}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class L{constructor(){this.id=0,this.is_active=!1,this.subcategory="",this.subcategory_code=""}}let U=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.ItemSubCategoryForm=()=>(a,t,e,n)=>(t=new L,[{type:"input",name:"subcategory_code",label:this.translate.instant("categoryCode_TC"),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant("categoryCode_TC")}),get value(){return e?n[this.name]:t.subcategory_code},validation:{required:!0,minlength:1},errorText:{required:this.translate.instant("formRequiredError_SC",{label:this.translate.instant("categoryCode_TC")}),minlength:this.translate.instant("formMaxLengthError_SC",{label:this.translate.instant("categoryCode_TC"),char:this.translate.instant("one_number")})}},{type:"input",name:"subcategory",label:this.translate.instant("category_TC"),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant("category_TC")}),get value(){return e?n[this.name]:t.subcategory},validation:{required:!0,minlength:1},errorText:{required:this.translate.instant("formRequiredError_SC",{label:this.translate.instant("category_TC")}),minlength:this.translate.instant("formMaxLengthError_SC",{label:this.translate.instant("category_TC"),char:this.translate.instant("one_number")})}}])}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class X{constructor(){this.asset_category=new x,this.asset_subcategory=new L}}var A=c(6344),F=c(7586),Q=c(7468),p=c(6087),v=c(3398),P=c(6728);class T extends P.z{constructor(Y,a){super(Y),this.type="tab",this.fields=new Array}addTabFields(Y){return this.fields=Y,this}toObject(){return{type:this.type,name:this.name,label:this.translate.instant(this.label),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant(this.label)}),value:this.value,validation:this.validation,errorText:this.errorText}}}var m=c(9389);let B=(()=>{class o{constructor(){this.subCategories=(0,i.vPA)([]),this.categories=(0,i.vPA)([]),this.categoryData=new x,this.subcategoryData=new L,this.translate=(0,i.WQX)(h.c$),this.apiService=(0,i.WQX)(A.G),this.ItemCreationForm=()=>(a,t,e,n)=>(t=new X,(0,Q.p)([this.getCategories(),this.getSubCategories()]).subscribe(([_,u])=>{this.categories.set(_?.results),this.subCategories.set(u?.results)}),[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("Asset_Details_TC"),fields:[new s.F(this.translate,"asset_code",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"asset_name",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"asset_serial_number",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"asset_description",e,n,t).addFieldWidth("45%").toObject(),new p.i(this.translate,"asset_category",e,n,t,!0).addFieldWidth("45%").addSubfields(new s.F(this.translate,"category",e,n,this.categoryData.category).toObject()).addKeyValueLabel("category","id").getOptions(this.categories).onChange(this.onCategoryChangeEvent.bind(this)).saveData(this.saveDynamicDropdownData.bind(this,"asset_category")).getUrlConfig({post:{url:m.q.CATEGORY_CRUD},get:{url:m.q.CATEGORY_CRUD}}).bindOption(this.updateDynamicDropdownOptions.bind(this)).toObject(),new p.i(this.translate,"asset_subcategory",e,n,t,!0).addFieldWidth("45%").addSubfields(new s.F(this.translate,"subcategory",e,n,this.subcategoryData.subcategory).toObject()).addKeyValueLabel("subcategory","id").getOptions(this.subCategories).saveData(this.saveDynamicDropdownData.bind(this,"asset_subcategory")).getUrlConfig({post:{url:m.q.SUBCATEGORY_CRUD},get:{url:m.q.SUBCATEGORY_CRUD}}).bindOption(this.updateDynamicDropdownOptions.bind(this)).toObject(),new p.i(this.translate,"asset_type",e,n,t).addFieldWidth("45%").getOptions(this.getAssetTypes()).toObject(),new p.i(this.translate,"asset_status",e,n,t).addFieldWidth("45%").getOptions(this.getAssetStatuses()).toObject()]},{tabHeader:this.translate.instant("Commercial_Details_TC"),fields:[new s.F(this.translate,"asset_hs_code",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"asset_purchase_cost",e,n,t).addFieldWidth("45%").toObject(),new v.v(this.translate,"asset_purchase_date",e,n,t).addFieldWidth("45%").addFormat("yy-mm-dd").onChange(this.onManufacturingDateChange.bind(this)).toObject(),new v.v(this.translate,"asset_manufacturing_date",e,n,t).addFieldWidth("45%").addFormat("yy-mm-dd").onChange(this.onManufacturingDateChange.bind(this)).toObject(),new s.F(this.translate,"asset_lifecycle",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"asset_value_type",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"depreciation_incremental_percent_per_year",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"depreciation_incremental_value_cost",e,n,t).addFieldWidth("45%").toObject()]},{tabHeader:this.translate.instant("qrCode_TC"),fields:[{type:"image",label:this.translate.instant("qr_code_TC"),src:e?n.qr_code:t.qr_code},{type:"image",label:this.translate.instant("barcode_TC"),src:e?n.barcode:t.barcode}]}])])}getAssetTypes(){return(0,i.vPA)([{id:"physical",name:"Physical Asset"},{id:"intellectual",name:"Intellectual Asset"}])}getAssetStatuses(){return(0,i.vPA)([{id:"new",name:"New"},{id:"used",name:"Used"},{id:"renewed",name:"Renewed"},{id:"rented",name:"Rented"}])}saveDynamicDropdownData(a,t,e){return{data:t,attribute:a}}onCategoryChangeEvent(a,t,e){}onPurchaseDateChange(a,t,e){return e.asset_purchase_date=F(e?.asset_purchase_date).format("YYYY-MM-DD"),e}onManufacturingDateChange(a,t,e){return e.asset_manufacturing_date=F(e?.asset_manufacturing_date).format("YYYY-MM-DD"),e}getCategories(){return this.apiService.get("/asset/categories/")}getSubCategories(){return this.apiService.get("/asset/subcategories/")}updateDynamicDropdownOptions(a){if(a?.results?.length)return a?.results}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var O=c(8838);class G{}class K{}class J{}var R=c(5148);let Z=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.apiService=(0,i.WQX)(A.G),this.VendorMasterForm=()=>(a,t,e,n)=>{t=new G;const _=e?n?.poc_details:t.poc_details,u=e?n?.bank_details:t.bank_details;return[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("vendor_Details_TC"),fields:[{type:"accordion",fields:[{accordionHeader:this.translate.instant("vendor_Details_TC"),fields:[new s.F(this.translate,"vendor_type",e,n,t).addFieldWidth("45%").isReadOnly(!0).toObject(),new s.F(this.translate,"vendor_code",e,n,t).addFieldWidth("45%").validate(!0).toObject(),new s.F(this.translate,"vendor_name",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"ref_code",e,n,t).addFieldWidth("45%").toObject()]},{accordionHeader:this.translate.instant("address_Details_TC"),fields:[new s.F(this.translate,"address_line1",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"address_line2",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"country",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"city",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"state",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"state_code",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"zip_code",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"phone_number",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"alternate_phone_no",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"fax_number",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"tax_number",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"email",e,n,t).addFieldWidth("45%").toObject()]},{accordionHeader:this.translate.instant("other_Details_TC"),fields:[new s.F(this.translate,"pan_no",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"cin_no",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"reference_no",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"payment_terms",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"payment_method",e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,"remarks",e,n,t).addFieldWidth("45%").toObject()]}]},new R.t(this.translate,"note",e,n,t).addFieldWidth("45%").toObject()]},{tabHeader:this.translate.instant("POC_Details_TC"),fields:[new O.O(this.translate,"poc_details",this.translate.instant("POC_Details_TC")).columnSchema(["name_TC","designation_TC","email_TC","phone_number_TC"]).formInitialise(new J).formSchema([{name:"name",type:"input"},{name:"designation",type:"input"},{name:"email",type:"input"},{name:"phone_number",type:"input"}]).getDatasource("id",_).build()]},{tabHeader:this.translate.instant("bank_Details_TC"),fields:[new O.O(this.translate,"bank_details",this.translate.instant("bank_Details_TC")).columnSchema(["bank_name_TC","branch_name_TC","account_name_TC","account_number_TC","swift_code_TC","routing_code_TC"]).formInitialise(new K).formSchema([{name:"bank_name",type:"input"},{name:"branch_name",type:"input"},{name:"account_name",type:"input"},{name:"account_number",type:"input"},{name:"swift_code",type:"input"},{name:"routing_code",type:"input"}]).getDatasource("id",u).build()]}])]}}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var r=c(297),D=c(5761),M=c(5377);let E=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.apiService=(0,i.WQX)(A.G),this.formObserver=(0,i.WQX)(M.j),this.updateQuantity=(0,i.vPA)([{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""},{name:""}]),this.vendorListDropdownData=(0,i.vPA)([]),this.deliveryTermsDropdownData=(0,i.vPA)([]),this.paymentTermsDropdownData=(0,i.vPA)([]),this.vendorPOCList=(0,i.vPA)([]),this.deliveryTerms=new D.xM,this.paymentTerms=new D.NS,this.PurchaseOrderForm=()=>(a,t,e,n)=>{(t=new D.rE).po_date=F(new Date).format("YYYY-MM-DD"),this.getVendorDropDownData(a["vendor-options"]),this.deliveryTermsDropdownData.set(a.delivery_terms),this.paymentTermsDropdownData.set(a.payment_terms);let _=e?n.purchase_order_items:[];return[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("purchase_Order_Details_TC"),fields:[{type:"accordion",fields:[{accordionHeader:this.translate.instant("purchase_Order_Details_TC"),fields:[new s.F(this.translate,r.$.source,e,n,t).addFieldWidth("45%").validate(!0).toObject(),new s.F(this.translate,r.$.po_no,e,n,t).addFieldWidth("45%").toObject(),new v.v(this.translate,r.$.po_date,e,n,t).addFieldWidth("45%").addFieldWidth("45%").onChange(this.onManufacturingDateChange.bind(this)).addFormat("yy-mm-dd").validate(!0).toObject(),new p.i(this.translate,r.$.vendor,e,n,t).addFieldWidth("45%").addKeyValueLabel("vendor_name","id").getOptions(this.vendorListDropdownData).onChange(this.onVendorSelection.bind(this)).toObject(),new p.i(this.translate,r.$.poc,e,n,t).addFieldWidth("45%").addKeyValueLabel("name","id").getOptions(this.vendorPOCList).onChange(this.onPOCNameChange.bind(this)).toObject(),new s.F(this.translate,r.$.poc_phone,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,r.$.poc_email,e,n,t).addFieldWidth("45%").toObject()]},{accordionHeader:this.translate.instant("address_Details_TC"),fields:[{type:"multi-blocks",headerText:"Bill To",fillScreen:"",legendAlign:"",blockDivider:"",fields:[new s.F(this.translate,r.$.bill_to_name,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_address1,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_address2,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_tax_no,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_country,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_city,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_zip_code,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.bill_to_state,e,n,t).addFieldWidth("100%").toObject()]},{type:"multi-blocks",headerText:"Ship To",fillScreen:"",legendAlign:"",blockDivider:"",fields:[new s.F(this.translate,r.$.ship_to_name,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_address1,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_address2,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_tax_no,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_country,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_city,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_zipcode,e,n,t).addFieldWidth("100%").toObject(),new s.F(this.translate,r.$.ship_to_state,e,n,t).addFieldWidth("100%").toObject()]}]},{accordionHeader:this.translate.instant("other_Details_TC"),fields:[new s.F(this.translate,r.$.vendor_quotation_no,e,n,t).addFieldWidth("45%").toObject(),new v.v(this.translate,r.$.quotation_date,e,n,t).addFieldWidth("45%").addFieldWidth("45%").onChange(this.onQuotationDateChange.bind(this)).addFormat("yy-mm-dd").toObject(),new p.i(this.translate,r.$.delivery_terms,e,n,t,!0).addFieldWidth("45%").addKeyValueLabel("name","id").getOptions(this.deliveryTermsDropdownData).onChange(this.onVendorSelection.bind(this)).addSubfields(new s.F(this.translate,"delivery_terms",e,n,this.deliveryTerms.delivery_terms).toObject()).saveData(this.saveDynamicDropdownOption.bind(this,"delivery_terms")).getUrlConfig({post:{url:m.q.APP_ENUMS,params:{enum_key:"delivery_terms"}},get:{url:m.q.APP_ENUMS,params:{enum_key:"delivery_terms"}}}).bindOption(this.updateDynamicDropdownOptions.bind(this)).toObject(),new s.F(this.translate,r.$.delivery_preference,e,n,t).addFieldWidth("45%").toObject(),new p.i(this.translate,r.$.payment_terms,e,n,t,!0).addFieldWidth("45%").addKeyValueLabel("name","id").getOptions(this.paymentTermsDropdownData).onChange(this.onVendorSelection.bind(this)).addSubfields(new s.F(this.translate,"payment_terms",e,n,this.paymentTerms.payment_terms).toObject()).saveData(this.saveDynamicDropdownOption.bind(this,"payment_terms")).getUrlConfig({post:{url:m.q.APP_ENUMS,params:{enum_key:"payment_terms"}},get:{url:m.q.APP_ENUMS,params:{enum_key:"payment_terms"}}}).bindOption(this.updateDynamicDropdownOptions.bind(this)).toObject(),new s.F(this.translate,r.$.payment_type,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,r.$.note,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,r.$.terms_conditions,e,n,t).addFieldWidth("45%").toObject()]}]}]},{tabHeader:this.translate.instant("addProducts_TC"),fields:[new O.O(this.translate,r.$.purchase_order_items).columnSchema([r.M.asset_code+"_TC",r.M.asset_name+"_TC",r.M.asset_description+"_TC",r.M.asset_mfr+"_TC",r.M.delivery_date+"_TC",r.M.qty+"_TC",r.M.uom+"_TC",r.M.unit_price+"_TC",r.M.discount+"_TC",r.M.discount_amount+"_TC",r.M.tax+"_TC",r.M.tax_amount+"_TC",r.M.total_amount+"_TC"]).formInitialise(new D.vD).formSchema([{name:r.M.asset_code,type:"input"},{name:r.M.asset_name,type:"input"},{name:r.M.asset_description,type:"input"},{name:r.M.asset_mfr,type:"input"},{name:r.M.delivery_date,type:"date"},{name:r.M.qty,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this)},{name:r.M.uom,type:"input"},{name:r.M.unit_price,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this)},{name:r.M.discount,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this),suffix:"%"},{name:r.M.discount_amount,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this)},{name:r.M.tax,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this),suffix:"%"},{name:r.M.tax_amount,type:"number",onValueChange:this.onChangeCalculationFields.bind(this),updateTableFooter:this.updateTableFooterValues.bind(this)},{name:r.M.total_amount,type:"number"}]).getDatasource("id",_).enableFooter(!0).setTableCaption(!0).setTableCaptionDialogButton(!0).setTableCaptionDialogButtonLabel("Add Asset").setExportTableData(!0).setField((new O.a).setTableName("purchase_order_items").setOverlayPanelColumnSchema([{name:"Asset Name"},{name:"Asset Code"}]).setOnUpdateRows(this.updateTableRows.bind(this)).setOverlayPanelSelectionMode("single").setOverlayPanelRows(10).setDialogScrollHeight("55vh").setOverlayPanelFormInitialise(["asset_name","asset_code"]).setOverlayPanelPaginator(!0).setScrollable(!0).setLazy(!0).setFontSize("14px").setQueryParams({}).setDisabledField("false").setUrls(m.q.ASSET).build()).footerInitialise(this.updateQuantity()).build(),new s.F(this.translate,r.$.sub_total,e,n,t).addFieldWidth("45%").isReadOnly(!0).toObject(),new s.F(this.translate,r.$.discount,e,n,t).addFieldWidth("45%").isReadOnly(!0).toObject(),new s.F(this.translate,r.$.tax_amount,e,n,t).addFieldWidth("45%").isReadOnly(!0).toObject(),new s.F(this.translate,r.$.total_amount,e,n,t).addFieldWidth("45%").isReadOnly(!0).toObject()]}])]}}onSelectSameBillingAddress(a,t,e){return this.formObserver.updateForm({formType:"purchasseOrder",isUpdated:!0}),e.purchase_order_items=t,e}onQuantityChange(a,t){return a}onManufacturingDateChange(a,t,e){return e.po_date=F(e?.po_date).format("YYYY-MM-DD"),e}onQuotationDateChange(a,t,e){return e.quotation_date=F(e?.quotation_date).format("YYYY-MM-DD"),e}getVendorDropDownData(a){this.vendorListDropdownData.set(a)}onVendorSelection(a,t,e){return this.vendorPOCList.set(this.vendorListDropdownData().find(n=>n.id===t).poc_details),e[r.$.poc_name]=this.vendorPOCList(),e}onPOCNameChange(a,t,e){return e[r.$.poc_email]=a[0]?.email,e[r.$.poc_phone]=a[0]?.phone_number,e}saveDynamicDropdownOption(a,t,e){return e[a]=t[a],{form:e,data:{enum_key:a,enum_value:t[a]}}}updateDynamicDropdownOptions(a){if(a?.results?.length)return a?.results[0]?.enum_value}updateTableRows(a){if(a)return a.map(t=>{let e=new D.vD;return e.asset=t.id,e.asset_code=t.asset_code,e.asset_description=t.asset_description,e.asset_name=t.asset_name,e})}onChangeCalculationFields(a,t,e){const n=+(t?.qty??0),_=+(t?.unit_price??0),u=+(t?.discount??0),H=+(t?.tax??0),b=this.calculateDiscountAmount(n,_,u),q=this.calculateTaxAmount(n,_,H),C=this.calculateTotalAmount(n,_,b,q);return t&&(t[r.M.discount_amount]=b,t[r.M.tax_amount]=q,t[r.M.total_amount]=C),t}calculateDiscountAmount(a,t,e){return t*a*e/100}calculateTaxAmount(a,t,e){return t*a*e/100}calculateTotalAmount(a,t,e,n){return t*a-e+n}updateTableFooterValues(a){let t=0,e=0,n=0,_=0;c(7376).forEach(a.purchase_order_items,function(C,I){t+=Number(C?.qty??0),e+=Number(C?.tax_amount??0),n+=Number(C?.total_amount??0),_+=Number(C?.discount_amount??0)});const H=n+_-e,b=[];return Object.keys(r.M).forEach((C,I)=>{if(0===I)b.push({name:" "}),b.push({name:"Total"});else switch(C){case r.M.qty:b.push({name:t.toFixed(2)});break;case r.M.tax_amount:b.push({name:e.toFixed(2)});break;case r.M.total_amount:b.push({name:n.toFixed(2)});break;default:b.push({name:""})}}),a.sub_total=H,a.tax_amount=e,a.discount=_,a.total_amount=n,b.push({name:""}),this.updateQuantity.set(b),{form:a,footerInitialize:b}}onSaveBarCodeEntry(a,t){return a.barcodeValue&&t?.grn_items.forEach(e=>{e.asset_serial_number+=","+a.barcodeValue}),t}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class tt{constructor(){this.employee_name="",this.designation="",this.department="",this.work_location="",this.assets_managed=""}}var S=function(o){return o.employee_name="employee_name",o.employee_code="employee_code",o.designation="designation",o.department="department",o.work_location="work_location",o.assets_managed="assets_managed",o}(S||{}),et=c(7673);let k=(()=>{class o{constructor(){this.apiService=(0,i.WQX)(A.G)}getEmployeeDesignationList(){return this.apiService.get(m.q.DESIGNATION_CRUD)}createEmployeeDesignation(a){return this.apiService.post(m.q.DESIGNATION_CRUD,a)}getEmployeeDepartmentList(){return this.apiService.get(m.q.DEPARTMENT_CRUD)}createDepartment(a){return this.apiService.post(m.q.DEPARTMENT_CRUD,a)}getEmployeeList(){return this.apiService.get(m.q.EMPLOYEE_MASTER_CRUD)}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),nt=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this._employeeService=(0,i.WQX)(k),this.designations=(0,i.vPA)([]),this.departments=(0,i.vPA)([]),this.EmployeeCreationForm=()=>(a,t,e,n)=>(t=new tt,(0,Q.p)([this._employeeService.getEmployeeDesignationList(),this._employeeService.getEmployeeDepartmentList()]).subscribe(([_,u])=>{this.designations.set(_?.results),this.departments.set(u?.results)}),[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("Employee_Creation_TC"),fields:[new s.F(this.translate,S.employee_name,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,S.employee_code,e,n,t).addFieldWidth("45%").toObject(),new p.i(this.translate,S.designation,e,n,t).addFieldWidth("45%").addSubfields(new s.F(this.translate,"designation_name",e,n,t.designation).toObject()).addKeyValueLabel("designation_name","id").getOptions(this.designations).saveData(this.saveSubFormData.bind(this,"designation_name")).toObject(),new p.i(this.translate,S.department,e,n,t).addFieldWidth("45%").addSubfields(new s.F(this.translate,"department_name",e,n,t.department).toObject()).addKeyValueLabel("department_name","id").getOptions(this.departments).saveData(this.saveSubFormData.bind(this,"department_name")).toObject(),new s.F(this.translate,S.work_location,e,n,t).addFieldWidth("45%").toObject()]}])])}saveSubFormData(a,t,e){return e[a]={},e[a].id=null,e[a]={...e[a],...t},(0,et.of)(e)}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class st{constructor(){this.location_name="",this.description="",this.site="",this.co_ordinates="",this.floor="",this.room_name="",this.room_no="",this.location_incharge=""}}var w=c(7186);let at=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this._employeeService=(0,i.WQX)(k),this.employees=(0,i.vPA)([]),this.LocationForm=()=>(a,t,e,n)=>(t=new st,this.getEmployeesList(),[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("Location_TC"),fields:[new s.F(this.translate,w.b.location_name,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,w.b.site,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,w.b.floor,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,w.b.room_name,e,n,t).addFieldWidth("45%").toObject(),new s.F(this.translate,w.b.room_number,e,n,t).addFieldWidth("45%").toObject(),new p.i(this.translate,w.b.location_incharge,e,n,t).addFieldWidth("45%").addKeyValueLabel("employee_name","id").getOptions(this.employees).toObject(),new s.F(this.translate,w.b.description,e,n,t).addFieldWidth("45%").toObject()]}])])}getEmployeesList(){this._employeeService.getEmployeeList().subscribe(a=>{this.employees.set(a?.results)})}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var $=c(9673),d=c(4957);let ot=(()=>{class o{constructor(){this.translate=(0,i.WQX)(h.c$),this.apiService=(0,i.WQX)(A.G),this.assets=(0,i.vPA)(null),this.sourceList=(0,i.vPA)([{key:"direct",value:"Direct"},{key:"purchase_order",value:"Purchase Order"}]),this.InventoryGrnForm=()=>(a,t,e,n)=>{let _=new $.h;_.asset=1,_.hs_code="test hscode";let u=e?n.grn_items:[];return(t=new $.$).grn_date=F().format("YYYY-MM-DD"),t.exit_date=F().format("YYYY-MM-DD[T]HH:mm:ss"),t.arrive_date=F().format("YYYY-MM-DD[T]HH:mm:ss"),[new T(this.translate).addTabFields([{tabHeader:this.translate.instant("grn_details_TC"),fields:[{type:"accordion",fields:[{accordionHeader:this.translate.instant("grn_details_TC"),fields:[new s.F(this.translate,d.z.grn_no,e,n,t).addFieldWidth("32%").isReadOnly(!0).toObject(),new p.i(this.translate,d.z.source,e,n,t).addFieldWidth("32%").validate(!0).addKeyValueLabel("value","key").getOptions(this.sourceList).onChange(this.onSourceDropdownChange.bind(this)).toObject(),new p.i(this.translate,d.z.purchase_order,e,n,t).addFieldWidth("32%").addKeyValueLabel("value","key").isFieldHidden(a?.filed.purchase_order.IsHidden).getOptions(this.sourceList).toObject(),new v.v(this.translate,d.z.grn_date,e,n,t).addFieldWidth("32%").validate(!0).onChange(this.onGrnDateChange.bind(this)).addFormat("yy-mm-dd").toObject(),new s.F(this.translate,d.z.vendor_bill,e,n,t).addFieldWidth("32%").validate(!0).toObject(),new v.v(this.translate,d.z.vendor_bill_date,e,n,t).addFieldWidth("32%").addFormat("yy-mm-dd").validate(!0).onChange(this.onVendorBillDateChange.bind(this)).toObject(),new p.i(this.translate,d.z.vendor,e,n,t).addFieldWidth("32%").addKeyValueLabel("value","key").getOptions(this.sourceList).toObject(),new s.F(this.translate,d.z.other_ref_no,e,n,t).validate(!0).addFieldWidth("32%").toObject(),new R.t(this.translate,d.z.note,e,n,t).addFieldWidth("32%").validate(!0).toObject()]},{accordionHeader:this.translate.instant("vehicle_details_TC"),fields:[new s.F(this.translate,d.z.vehicle_no,e,n,t).validate(!0).addFieldWidth("22%").toObject(),new v.v(this.translate,d.z.arrive_date,e,n,t).addFieldWidth("22%").validate(!0).addFormat("yy-mm-dd").toObject(),new v.v(this.translate,d.z.exit_date,e,n,t).addFieldWidth("22%").validate(!0).addFormat("yy-mm-dd").toObject(),new R.t(this.translate,d.z.remarks,e,n,t).addFieldWidth("100%").toObject()]}]}]},{tabHeader:this.translate.instant("addProducts_TC"),fields:[new O.O(this.translate,d.z.grn_items).columnSchema([d.S.asset+"_TC","asset_code_TC","asset_description_TC","asset_serial_number_TC",d.S.hs_code+"_TC",d.S.uom+"_TC",d.S.po_qty+"_TC",d.S.received_qty+"_TC",d.S.unit_price+"_TC",d.S.discount+"_TC",d.S.discount_amount+"_TC",d.S.tax+"_TC",d.S.tax_amount+"_TC",d.S.sub_total+"_TC",d.S.total_amount+"_TC",d.S.reject_qty+"_TC",d.S.accepted_qty+"_TC",d.S.balance_qty+"_TC",d.S.trc_number+"_TC",d.S.remarks+"_TC"]).formInitialise(new $.h).formSchema([{name:"asset",type:"input"},{name:"asset_code",type:"input"},{name:"asset_description",type:"input"},{name:"asset_serial_number",type:"dropdown",dialogue:!0,label:"test",dialogueLabel:"Enter Serial Number",emptyCustomDialogTemplate:!0,emptyComment:"",placeholder:this.translate.instant("enter_Serial_Number_TC",{label:this.translate.instant("enter_Serial_Number_TC")}),options:[{productName:"Vishnu",id:"vishnu"}],optionLabel:"productName",optionValue:"id",dialogueWidth:"80vw",dialogueHeight:"80vh",saveDialogueData:this.onSaveBarCodeEntry.bind(this),dialogueFields:[new s.F(this.translate,"barcodeValue",e,n,t).validate(!0).addFieldWidth("22%").toObject()]},{name:d.S.hs_code,type:"input"},{name:d.S.uom,type:"input"},{name:d.S.po_qty,type:"input",id:"quantity"},{name:d.S.received_qty,type:"input",id:"quantity"},{name:d.S.unit_price,type:"input",id:"quantity"},{name:d.S.discount,type:"input",onValueChange:this.onDiscountChange.bind(this)},{name:d.S.discount_amount,type:"input"},{name:d.S.tax,type:"input",onValueChange:this.calculateTaxAmount.bind(this)},{name:d.S.tax_amount,type:"input"},{name:d.S.sub_total,type:"input"},{name:d.S.total_amount,type:"input"},{name:d.S.reject_qty,type:"input"},{name:d.S.accepted_qty,type:"input"},{name:d.S.balance_qty,type:"input"},{name:d.S.trc_number,type:"input"},{name:d.S.remarks,type:"input"}]).getDatasource("id",u).enableFooter(!0).setTableCaption(!0).setTableCaptionDialogButton(!0).setTableCaptionDialogButtonLabel("Add Asset").setExportTableData(!0).setField((new O.a).setTableName("grn_items").setOverlayPanelColumnSchema([{name:"Asset Name"},{name:"Asset Code"}]).setOnUpdateRows(this.updateTableRows.bind(this)).setOverlayPanelSelectionMode("single").setOverlayPanelRows(10).setDialogScrollHeight("55vh").setOverlayPanelFormInitialise(["asset_name","asset_code"]).setOverlayPanelPaginator(!0).setScrollable(!0).setLazy(!0).setFontSize("14px").setQueryParams({}).setDisabledField("false").setUrls(m.q.ASSET).build()).build(),new s.F(this.translate,r.$.sub_total,e,n,t).addFieldWidth("22%").toObject(),new s.F(this.translate,r.$.discount,e,n,t).addFieldWidth("22%").toObject(),new s.F(this.translate,r.$.tax_amount,e,n,t).addFieldWidth("22%").toObject(),new s.F(this.translate,r.$.total_amount,e,n,t).addFieldWidth("22%").toObject()]}])]}}onGrnDateChange(a,t,e){return e.grn_date=F(e?.grn_date).format("YYYY-MM-DD"),e}onVendorBillDateChange(a,t,e){return e.vendor_bill_date=F(e?.vendor_bill_date).format("YYYY-MM-DD"),e}getAssets(){this.apiService.get(m.q.ASSET).subscribe(a=>{this.assets.set(a?.results)})}updateTableRows(a){return a.map(t=>{let e=new $.h;return e.asset=t.id,e.asset_code=t.asset_code,e.asset_description=t.asset_description,e.asset_serial_number=t.asset_serial_number,e.hs_code=t.asset_hs_code,e})}onDiscountChange(a,t){const e=+t.received_qty,n=+t.unit_price,u=this.calculateDiscountAmount(e,n,+t.discount);return t[d.S.discount_amount]=u,t[d.S.sub_total]=e*n-u,t}onTaxChange(a,t){const u=this.calculateDiscountAmount(+t.received_qty,+t.unit_price,+t.tax);return t[d.S.tax_amount]=u,t}calculateDiscountAmount(a,t,e){return t*a*e/100}calculateTaxAmount(a,t){return t[d.S.tax_amount]=+t.sub_total*+t.tax/100,t[d.S.total_amount]=t[d.S.sub_total]+t[d.S.tax_amount],t}onSourceDropdownChange(a,t,e){return null}onSaveBarCodeEntry(a,t,e){let n=a?.get(e);if(n?.length){let _=n.map(u=>u.code).join(",");t?.grn_items?.length&&(t.grn_items[e].asset_serial_number=_)}else t.grn_items[e].asset_serial_number=n;return t}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),rt=(()=>{class o{constructor(){this.storeForm=(0,i.WQX)(j),this.itemCategoryForm=(0,i.WQX)(N),this.itemSubCategoryForm=(0,i.WQX)(U),this.itemCreationForm=(0,i.WQX)(B),this.vendorMasterForm=(0,i.WQX)(Z),this.purchaseOrderForm=(0,i.WQX)(E),this.employeeCreationForm=(0,i.WQX)(nt),this.locationForm=(0,i.WQX)(at),this.inventoryGrnForm=(0,i.WQX)(ot)}getForm(){return{stores:this.storeForm.STORE_FORM(),"item-category":this.itemCategoryForm.ItemCategoryForm(),"item-subcategory":this.itemSubCategoryForm.ItemSubCategoryForm(),"item-creation":this.itemCreationForm.ItemCreationForm(),"vendor-master":this.vendorMasterForm.VendorMasterForm(),"purchase-order":this.purchaseOrderForm.PurchaseOrderForm(),"employee-creation":this.employeeCreationForm.EmployeeCreationForm(),location:this.locationForm.LocationForm(),"inventory-grn":this.inventoryGrnForm.InventoryGrnForm()}}static#t=this.\u0275fac=function(t){return new(t||o)};static#e=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},5148:(W,y,c)=>{c.d(y,{t:()=>h});var i=c(6728);class h extends i.z{constructor(s,g,f,j,x,V,z){super(s),this.type="text",this.name=g,this.label=`${g}_TC`,this.isEditMode=f,this.data=j,this.defaultData=x,this.value=this.getValue()}getValue(){return this.isEditMode?this.data[this.name]:this.defaultData[this.name]}isReadOnly(s){return this.readonly=s,this}toObject(){return{type:this.type,name:this.name,label:this.translate.instant(this.label),placeholder:this.translate.instant("formPlaceholder_SC",{label:this.translate.instant(this.label)}),value:this.value,validation:this.validation,errorText:this.errorText,fieldWidth:this.fieldWidth,readonly:this.readonly}}}},5377:(W,y,c)=>{c.d(y,{j:()=>l});var i=c(4412),h=c(4438);let l=(()=>{class s{constructor(){this.updateForm$=new i.t(null),this.updateFormObservable=this.updateForm$.asObservable()}updateForm(f){this.updateForm$.next(f)}static#t=this.\u0275fac=function(j){return new(j||s)};static#e=this.\u0275prov=h.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},5761:(W,y,c)=>{c.d(y,{NS:()=>s,rE:()=>i,vD:()=>h,xM:()=>l});class i{constructor(){this.delivery_terms=new l,this.purchase_order_items=new Array}}class h{}class l{constructor(){this.id=0,this.delivery_terms=""}}class s{constructor(){this.id=0,this.payment_terms=""}}}}]);