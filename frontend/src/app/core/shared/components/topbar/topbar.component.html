<p-toolbar class="w-full">
    <div class="p-toolbar-group-left flex flex-row gap-3">
        @if(isUserLoggedIn()){
        <div>
            <button pButton pRipple  icon="pi pi-bars" (click)="openSideBarEvent()"></button>
        </div>
        
        <a class="layout-topbar-logo md:flex sm:hidden" routerLink="">
            <img src="assets/images/logo.png" alt="logo" height="40" width="40">
            <!-- <span>{{ 'customerNAME_UC' | translate }}</span> -->
            <!-- <span style="margin-left:2rem; color: #000;font-size: 20px;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;font-weight:bold ;">{{appTitle}}</span> -->
        </a>
        }

        <div class="app-title md:flex sm:hidden" >
            <p>AMS</p>
        </div>
        @if(isUserLoggedIn() && isSuperUser()){
        <p-dropdown [options]="cities" (onChange)="onDropDownChange($event)" optionLabel="name" [showClear]="true" placeholder="Select a City"></p-dropdown>
        }
    </div>
    @if(isUserLoggedIn()){
    <!-- <a class="layout-topbar-logo md:flex lg:hidden " routerLink="">
        <img src="assets/images/logo.png" alt="logo" height="40" width="40">
    </a> -->
    }

    <div class="p-toolbar-group-right flex-row gap-3 justify-content-end">
        @if(isUserLoggedIn()){
        <button pButton pRipple type="button" class="p-button-rounded p-button-text"><i class="pi pi-bell" pBadge
                value="7" severity="danger"></i></button>
        }

        @if(isUserLoggedIn()){
        <button pButton pRipple type="button" icon="pi pi-user" class="p-button-rounded p-button-text"></button>
        }

        <button pButton pRipple type="button" icon="pi {{ vm.themeIcon }}" class="p-button-rounded p-button-text"
            (click)="thememenu.toggle($event)" [pTooltip]="vm.themeTitle"></button>
        <button pButton pRipple type="button" icon="pi pi-globe" class="p-button-rounded p-button-text"
            (click)="langmenu.toggle($event)"></button>
        <button pButton pRipple type="button" class="p-button-rounded p-button-text"
            (click)="fontmenu.toggle($event)">{{ 'sacalePlus_TC' | translate }}</button>

        @if(isUserLoggedIn()){
        <button pButton pRipple type="button" icon="pi pi-sign-out" class="p-button-rounded p-button-text"
            (click)="logout()"></button>
        }

    </div>
</p-toolbar>
<p-menu #thememenu [popup]="true" [model]="vm.thememenulist"></p-menu>
<p-menu #langmenu [popup]="true" [model]="vm.langmenulist"></p-menu>
<p-menu #fontmenu [popup]="true" [model]="vm.fontmenulist"></p-menu>

<!-- <p-sidebar [(visible)]="isSidebarOpen" position="left">
    <h3>Asset Management</h3>
    <app-menu-list (emitter)="closeSideBar($event)"></app-menu-list>
</p-sidebar> -->

<p-sidebar #sidebarRef [(visible)]="isSidebarOpen">
    <ng-template pTemplate="headless">
        <div class="flex flex-column h-full">
            <div class="flex align-items-center justify-content-between px-4 pt-3 flex-shrink-0">
                <span class="inline-flex align-items-center gap-2">
                    <img src="assets/images/logo.png" alt="logo" height="40" width="40">
                    <h3>AMS</h3>
                </span>
                <span>
                    <button pButton type="button" class="primary" (click)="closeCallback($event)" icon="pi pi-times"
                        styleClass="h-2rem w-2rem"></button>
                </span>
            </div>
            <div class="overflow-y-auto">
                <app-menu-list (emitter)="closeSideBar($event)" [isSideBarOptionsEnabled]="true"></app-menu-list>
            </div>
        </div>
    </ng-template>
</p-sidebar>